---
title: Web应用&架构搭建&域名源码&站库分离&MVC模型&解析受限&对应路径
published: 2026-01-17 18:00
description: 域名差异：主站、分站、端口站、子站。源码差异：源码目录结构、开发语言或框架、源码类型：开/闭源或加密。数据差异：本地数据或者分离数据以及云数据（数据库）。平台差异：系统、容器、中间件。解析差异：相对/绝对路径、脚本执行权限（比如一个目录下限制敏感操作该怎么去解决）、URL路由（映射到某个控制器方法的一条路由，不是真实的文件路径。）。
tags: [基础入门,Web应用]
category: 网络安全
draft: false
---

# 知识点

1. [基础入门-Web应用-域名上的技术要点](#域名技术要点)
2. [基础入门-Web应用-源码上的技术要点](#源码技术要点)
3. [基础入门-Web应用-数据上的技术要点](#数据技术要点)
4. [基础入门-Web应用-解析上的技术要点](#解析技术要点)

## 域名技术要点

### 域名差异-主站&分站&端口站&子站

1. 主站：www.xiaodi8.com

   比如该网站解析到的ip为47.75.212.155。

2. 分站(子域名)：blog.xiaodi8.com

   比如该网站解析到的ip为47.75.212.243；但是分站也有可能和主站的IP一样，意思就是这两个网站解析到同一个IP上去。

3. 端口站：www.xiaodi8.com:88

   意思就是域名后需要加端口号，才能访问到。**默认80/443以外都算端口站。**

4. 目录站：www.xiaodi8.com/bbs/

   访问域名不加目录的时候是一个网站，加上目录之后是另外一个站，也就是两套程序。
   比如：
   www.xiaodi8.com/是一个博客站，主要开发语言使用了php。
   www.xiaodi8.com/bbs/是一个论坛，主要开发语言是Java。

5. 子站：123.blog.xiaodi8.com

## 源码技术要点

### 源码差异-结构&语言&框架&闭源&加密

1. 源码目录结构对应
   后台目录，文件目录，逻辑目录，前端目录，数据目录，配置文件等。

   思路：

   后台目录：主要目的是一套系统中关键的一些功能存放点，略过没有价值的静态页面。
   文件目录：主要目的是检测是否可以存在文件上传漏洞。
   逻辑目录：主要目的是检测数据以什么样的方式提交或者接收到数据库。
   前端目录：主要目的是检测是否存在xss或者js漏洞。
   数据目录：主要目的是检测是否存在sql文件备份或者其他敏感信息的泄露。
   配置文件：有时候可以找到系统泄露的源码，从而可以去看到数据库的账号密码的配置。

2. 源码开发语言类型

   ASP，ASPX，PHP，Java，Python，Go，Javascript等。

3. 语言开发框架组件

   PHP：Thinkphp Laravel YII CodeIgniter CakePHP Zend等。

   JAVA：Spring MyBatis Hibernate Struts2 Springboot等。

   Python：Django Flask Bottle Turbobars Tornado Web2py等。

   Javascript：Vue.js Node.js Bootstrap JQuery Angular等。

   思路：如果遇到框架可以去寻找一些通用漏洞点。

4. 开源闭源加密类型

   开源：如Zblog，思路：因为是开源的，所以可以下载源码并进行代码审计，或者使用默认的数据库账号密码对网站进行测试。
   闭源：如内部开发（互联网公司自己开发），思路：可能会找到泄露的源码，但是找不到的话就是黑盒测试。
   加密（加壳）：如通达OA，思路：解密源码，再进行审计。

## 数据技术要点

### 数据差异-本地数据&分离数据&云数据库

1. 数据库类型：

   Access、MYSQL、SqlServer、Oracle、Redis、DB2、Postgresql、MongoDB等。

2. 本地数据库：本地服务器搭建。

   网站和数据库在同一服务器。

3. 分离数据库：另外的服务器搭建。

   网站在一个服务器，数据库在另外一个服务器。

4. 云数据库：RDS等。

   单独只开数据库的云产品，防护高，因为有白名单限制，只允许目标IP对数据库进行连接。

**数据库核心思想：外联 外部连接。**

比如拿到目标的源码，分析到数据库的配置文件，拿到了账号密码。此时如果目标是**本地服务器**，那么成功的概率很高，但是可能遇到权限问题。但如果**目标是分离数据库或者是云数据库**，那么成功率就非常低了，因为这些网站大概率是会对能够访问数据库的网站服务器IP进行限制。

#### 渗透思路

此时有一个背景：www.xiaodi8.com 47.242.212.243 数据库放在云数据库上面。

这时候已经拿到了xiaodi8.com的webshell或者网站权限，该如何去获取到数据库中的数据或者权限？

**解读：**云数据库只允许47.242.212.243去对数据库进行连接，此时攻击机xx.xx.xx.xx去连接数据库，账号密码即使是正确的也无法连接。

**解决方法：**

1. 上传一个数据库连接脚本到网站服务器上，触发脚本去连接数据库。
2. 利用网站权限上传代理流量工具，做数据中转的操作，这样可以进行正常连接。

### 平台差异-中间件类型&系统类型&容器类型

1. 系统：Windows、Linux、MacOS等。
2. 容器：Docker、K8s、Vmware、Virtual Box等。
3. 中间件：Apache、Nginx、IIS、lighttpd、Tomcat、Jboos、Weblogic、Websphere、Jetty等。

#### 知识点

##### 关于系统和容器

主要就是了解逃逸技术，因为在真实情况下，可能会遇到服务器是由**虚拟化或者容器化**（比如虚拟机）搭建的，攻入到虚拟环境之后无法造成实质性的伤害，对宿主机无法造成任何的伤害，这时候就需要了解到逃逸技术。

##### 关于中间件

主要是一些版本漏洞，或者判断是什么程序，比如apache就是解析php等。

## 解析技术要点

### 解析差异-URL路由&绝对相对路径&格式权限

1. URL路由：URL访问对应文件，MVC模型等。
2. 相对/绝对路径：相对路径就是相对当前目录，绝对路径就是完整的目录路径。
3. 格式权限：后门解析格式，代码正常执行，脚本执行权限等。

#### 知识点

##### 相对/绝对路径

相对路径：

`D:\MYOA\webroot\attachment`

`D:\MYOA\webroot\attachment\../../ = D:MYOA\`

`D:\MYOA\webroot\attachment\../../../ = D:\`

绝对路径：

比如此时D盘有个文件夹名为aDrive

`D:\MYOA\webroot\attachment\../../../D:\\aDrive = D:aDrive\`

##### 格式权限

后门解析格式：主要还是看网站是什么类型的，就举例说网站源码是PHP的，这时候上传Java的后门是没用的，网站环境解析不了。

代码正常执行：看代码，不同类型代码（只说后端）不能写在一起，学过开发入门基本都了解。

脚本执行权限：

一般网站会对比如访问一个网站的图片资源，指定用户可以进行此类操作（正常查看图片），但如果在此处上传其他类型文件，比如上传了一句话木马进行执行（敏感操作），大概率是无法进行操作的，甚至比如明明存在index.php，但进行访问时变成了下载等种种状况。

主要解决方法就是把无法访问到的文件转到其他可执行路径，前提具有足够能力把文件转到其他目录，此时就不会有权限问题。

##### URL路由

比如原生开发（无框架）的网站，访问路径如下：

`xxx.xiaodi8.com/admin/login.php = 源码/admin/login.php`

但是使用了框架开发/MVC模型，此时就根据框架的路由决定：

`xxx.xiaodi8.com/admin/login //此时这个路径只是路由，并不是磁盘中真实存在的文件`

因为之前学过一点springboot，对路由也有所了解，如上，login只是映射到某个控制器方法的一条路由，不是真实的文件路径。

举例说明：

```java
@PostMapping("/admin/login")
public String login(...) { ... }
```

框架启动时会把这些注解（或 XML/配置类）注册到一张“路由表”里；收到请求后，DispatcherServlet 按表转发，**不会真的去磁盘找 `/admin/login` 目录下的文件**。

##### 关于路由重点

Model View Controller

在做代码审计时，要区分MVC和非MVC模型的源码。

MVC模型源码在进行审计时先找路由配置文件（如 Spring 的 `@RequestMapping`、ThinkPHP 的 `route/route.php`），再反查到对应控制器，才能快速定位业务逻辑与入口参数。